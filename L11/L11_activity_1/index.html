<!-- read more 
https://www.w3schools.com/js/js_input_examples.asp
-->

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>repl.it</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <form id="myFrm">
        <input type="text" placeholder="name" id="txtName" />
        <input type="submit" />
    </form>
    <h1>Name: <span id="myName">...</span></h1>
    <script>

        //setting username:  
        let contact = function (fname) {
            this.firstName = fname;
        };
        let example = new contact('Johnny');
        localStorage.setItem('user1', JSON.stringify(example));
        user1_data = localStorage.getItem('user1');
        console.log(user1_data);

        //vanilla JS methods
        //retrieve form information when submit
        //todo localstorage checks
        let item = localStorage.getItem('user1');
        if (item != null) {
            //start display
            //Parse String as JSON object
            let itemValue = JSON.parse(localStorage.getItem('user1'));
            let itemItemValue = JSON.parse
            //Print value in console
            console.log(`item value = ${itemValue}`);
            //Set Name to Name in Local Storage
            document.getElementById("myName").innerHTML = itemValue;
        }

        document.addEventListener("submit", function (event) {
            //prevent default action of the form from actually submitting
            event.preventDefault();

            //retrieve form values
            let myName = document.getElementById("txtName").value;
            console.log(myName);

            //@TODO
            //set the name

            document.getElementById("myName").innerHTML = myName;
            //document.getElementById('myName').textContent = myName;

            //clear the form upon each sumission
            document.getElementById("myFrm").reset();
        });
    </script>
</body>

</html>